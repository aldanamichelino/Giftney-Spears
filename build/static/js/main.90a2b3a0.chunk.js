(this["webpackJsonpgiftney-spears"]=this["webpackJsonpgiftney-spears"]||[]).push([[0],{38:function(e,t,c){},54:function(e,t,c){},78:function(e,t,c){"use strict";c.r(t);var s=c(3),a=c.n(s),n=c(45),r=c.n(n),i=(c(38),c(54),c(9)),l=c(7),o=c.p+"static/media/britney.63fd112a.svg",d=c(20),j=c(30),m=c(11),u=c(2),b=Object(s.createContext)(),x=JSON.parse(localStorage.getItem("cart"))||[],f=function(e){var t=e.children,c=Object(s.useState)(x),a=Object(m.a)(c,2),n=a[0],r=a[1];return Object(s.useEffect)((function(){localStorage.setItem("cart",JSON.stringify(n))}),[n]),Object(u.jsx)(b.Provider,{value:{cart:n,addItemToCart:function(e,t){var c=n.findIndex((function(t){return t.id===e.id})),s=Object(j.a)(n);-1!==c?s[c].amount+=t:s=[].concat(Object(j.a)(n),[e]),r(s),localStorage.setItem("cart",JSON.stringify(s))},removeItemFromCart:function(e){var t=n.filter((function(t){return t.id!==e}));r(t)},totalItemsAmount:function(){return n.reduce((function(e,t){return e+t.amount}),0)},itemAmountInCart:function(e){var t=n.find((function(t){return t.id===e}));return t?t.amount:0},modifyItemAmountInCart:function(e,t){var c=n.findIndex((function(t){return t.id===e})),s=Object(j.a)(n);-1!==c&&(s[c].amount=t),r(s),localStorage.setItem("cart",JSON.stringify(n))},totalSpent:function(){return n.reduce((function(e,t){return e+t.amount*t.price}),0)},emptyCart:function(){r([])},isInCart:function(e){return n.some((function(t){return t.id===e}))}},children:t})},O=function(){var e=Object(s.useContext)(b).totalItemsAmount;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(d.a,{icon:"shopping-cart",className:"cart flex justify-self-end self-end"}),Object(u.jsx)("span",{className:"cart__amount__count absolute left-5 -top-3 rounded-full w-5 h-5 p-0 m-0 text-center",children:e()})]})},h=c(22),p=(c(41),c(64),h.a.initializeApp({apiKey:"AIzaSyDxOuZZAfEqk1BjIpaucxA3AKUAO8wGm8A",authDomain:"giftney-spears.firebaseapp.com",projectId:"giftney-spears",storageBucket:"giftney-spears.appspot.com",messagingSenderId:"212137482369",appId:"1:212137482369:web:e7159066373d03e8391580"})),g=function(){return h.a.firestore(p)},_=new h.a.auth.GoogleAuthProvider,v=Object(s.createContext)(),N=function(e){var t=e.children,c=Object(s.useState)(!1),a=Object(m.a)(c,2),n=a[0],r=a[1],i=Object(s.useState)(null),l=Object(m.a)(i,2),o=l[0],d=l[1],j=h.a.auth(p);return Object(s.useEffect)((function(){var e=j.onAuthStateChanged((function(e){d(e)}));return function(){e()}}),[j]),Object(s.useEffect)((function(){r(!!o)}),[o]),Object(u.jsx)(v.Provider,{value:{isAuthenticated:n,setIsAuthenticated:r,currentUser:o,setCurrentUser:d,signUp:function(e,t){return j.createUserWithEmailAndPassword(e,t)},login:function(e,t){return j.signInWithEmailAndPassword(e,t)},loginWithGoogle:function(){return j.signInWithPopup(_)},logout:function(){return j.signOut()}},children:t})},y=function(){var e=Object(s.useContext)(b).cart,t=Object(s.useContext)(v),c=t.isAuthenticated,a=t.logout;return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("header",{className:"header flex justify-center relative",children:[!c||Object(u.jsx)(i.b,{to:"/",className:"header__logout",onClick:a,children:"Cerrar sesi\xf3n"}),Object(u.jsxs)("div",{className:"header__container grid grid-cols-12 items-end mt-4",children:[Object(u.jsxs)(i.b,{to:"/",className:"header__logo flex items-end col-span-3",children:[Object(u.jsx)("img",{src:o,alt:"Logo de Giftney Spears",className:"header__logo"}),Object(u.jsx)("h1",{className:"header__title",children:"Giftney Spears"})]}),c&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("nav",{className:"header__nav justify-around col-span-7 flex self-end mb-4 inconsolata",children:Object(u.jsxs)("div",{children:[Object(u.jsx)(i.c,{className:"header__nav__link",activeClassName:"activeLink",exact:!0,to:"/productos/indumentaria",children:"Indumentaria"}),Object(u.jsx)(i.c,{className:"header__nav__link",activeClassName:"activeLink",exact:!0,to:"/productos/perfumes",children:"Perfumes"}),Object(u.jsx)(i.c,{className:"header__nav__link",activeClassName:"activeLink",exact:!0,to:"/productos/discos",children:"Discos"}),Object(u.jsx)(i.c,{className:"header__nav__link",activeClassName:"activeLink",exact:!0,to:"/productos/accesorios",children:"Accesorios"}),Object(u.jsx)(i.c,{className:"header__nav__link",activeClassName:"activeLink",exact:!0,to:"/productos/freebritney",children:"Free Britney"})]})}),Object(u.jsx)(i.b,{className:"relative justify-self-end col-span-2 ".concat(e.length>0?"flex":"hidden"),to:"/carrito",children:Object(u.jsx)(O,{})})]})]})]})})},w=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("footer",{className:"App-footer",children:Object(u.jsx)("div",{className:"flex flex-col items-center",children:Object(u.jsx)("p",{children:"Giftney Spears es una marca registrada de AM Productos. Contactanos a giftney-spears@amproductos.com.ar."})})})})},C=c(13),k=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(d.a,{icon:"heart",className:"heart"})})},I=function(e){var t=e.id,c=e.name,s=e.price,a=e.img,n=e.description,r=e.imgDescription,l=(e.category,e.freeBritney);return Object(u.jsxs)(i.b,{to:"/item/".concat(t),className:"list__item relative max-w-sm min-w-[340px] bg-white shadow-md rounded-3xl p-2 mx-4 my-3 relative",children:[Object(u.jsxs)("div",{className:"overflow-x-hidden rounded-2xl relative",children:[Object(u.jsx)("img",{className:"w-full rounded-2xl object-cover",src:a,alt:r}),Object(u.jsx)("p",{className:"widget__container absolute right-2 bottom-2 bg-white rounded-full p-2 cursor-pointer group",children:Object(u.jsx)(k,{})})]}),Object(u.jsx)("div",{className:"list__item__info mt-4 px-2 p mb-2 flex justify-between",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{className:"list__item__info__name text-lg font-semibold text-gray-900 mb-0 inconsolata",children:c}),Object(u.jsx)("p",{className:"list__item__info__description pl-2 text-left text-gray-900 mb-0",children:n}),Object(u.jsxs)("p",{className:"list__item__info__price absolute text-md text-gray-800 mt-0",children:[" $ ",s]})]})}),Object(u.jsx)("div",{className:"absolute bottom-5 left-6",children:1===l?Object(u.jsx)(i.b,{to:"/productos/freebritney",className:"list__item__info__freeBritney",children:Object(u.jsx)("span",{className:"list__item__info__pill",children:"Free Britney"})}):""})]})},S=function(e){var t=e.products;return Object(u.jsxs)("div",{className:"item__list",children:[Object(u.jsx)("h2",{className:"item__list__subtitle",children:"\xa1Los mejores regalos para la Britney Army encontralos en Giftney Spears!"}),Object(u.jsx)("div",{className:"list relative m-3 flex flex-wrap mx-auto justify-center",children:t.map((function(e){return Object(s.createElement)(I,Object(C.a)(Object(C.a)({},e),{},{key:e.id}))}))})]})},A=c.p+"static/media/loading-flower.25f1aec1.png",F=function(){return Object(u.jsx)("div",{className:"App-loading-flower",children:Object(u.jsx)("img",{src:A,alt:"Loading flower, imagen de carga"})})},L=Object(s.createContext)(),P=function(e){var t=e.children,c=Object(s.useState)(!1),a=Object(m.a)(c,2),n=a[0],r=a[1];return Object(u.jsx)(L.Provider,{value:{loading:n,setLoading:r},children:t})},T=function(){var e=Object(s.useState)([]),t=Object(m.a)(e,2),c=t[0],a=t[1],n=Object(s.useContext)(L),r=n.loading,i=n.setLoading,o=Object(l.h)().categoryId;return Object(s.useEffect)((function(){i(!0);var e=g();(o?"freebritney"===o?e.collection("items").where("freeBritney","==",1):e.collection("items").where("category","==",o):e.collection("items")).get().then((function(e){var t=e.docs.map((function(e){return Object(C.a)({id:e.id},e.data())}));a(t)})).catch((function(e){return console.log(e)})).finally((function(){i(!1)}))}),[o,i]),Object(u.jsx)("section",{className:"flex justify-center align-items-center",children:r?Object(u.jsx)(F,{}):Object(u.jsx)(S,{products:c})})},B=function(e){var t=e.stock,c=e.handleAdd,a=e.buttonText,n=Object(s.useState)(1),r=Object(m.a)(n,2),i=r[0],l=r[1];return Object(u.jsxs)("div",{className:"flex justify-around items-center",children:[Object(u.jsxs)("div",{className:"flex mr-4 items-center",children:[Object(u.jsx)("button",{className:"counter__control",onClick:function(){i>1&&l(i-1)},children:"-"}),Object(u.jsx)("span",{className:"mx-2",children:i}),Object(u.jsx)("button",{className:"counter__control",onClick:function(){i<t&&l(i+1)},children:"+"})]}),Object(u.jsx)("button",{disabled:i<1||"",className:"item__detail__card__add flex justify-center rounded-md",onClick:function(){return c(i)},children:Object(u.jsx)("span",{children:a})})]})},E=function(e){var t=e.id,c=e.name,a=e.price,n=e.img,r=e.description,o=e.imgDescription,d=e.category,j=e.stock,m=e.error,x=Object(l.g)().goBack,f=Object(s.useContext)(b),O=f.addItemToCart,h=f.isInCart;return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"min-w-screen flex items-center overflow-hidden relative",children:[Object(u.jsxs)("div",{className:"item__detail__card w-full max-w-6xl rounded-br-lg shadow-xl p-10 lg:p-10 mx-auto relative md:text-left ".concat(m?"flex":"hidden"," items-center justify-center flex-col"),children:[Object(u.jsx)("p",{className:"error mb-4",children:m}),Object(u.jsx)("button",{className:"item__detail__card__buttonBack opacity-75 hover:opacity-100 hover:text-gray-900 rounded px-5 py-2 font-semibold",onClick:function(){return x()},children:"Volver"})]}),Object(u.jsx)("div",{className:"item__detail__card w-full max-w-6xl rounded-br-lg shadow-xl p-10 lg:p-10 mx-auto relative md:text-left ".concat(m?"hidden":"block"),children:Object(u.jsxs)("div",{className:"md:flex items-stretch -mx-10",children:[Object(u.jsx)("div",{className:"w-full md:w-1/2 px-10 mb-10 md:mb-0",children:Object(u.jsxs)("div",{className:"relative",children:[Object(u.jsx)("img",{src:n,className:"item__detail__card__img w-full relative z-10 rounded",alt:o}),Object(u.jsx)("div",{className:"border-4 absolute top-10 bottom-10 left-10 right-10 z-0"})]})}),Object(u.jsxs)("div",{className:"w-full md:w-1/2 px-10",children:[Object(u.jsxs)("div",{className:"mb-24",children:[Object(u.jsx)("h2",{className:"font-bold uppercase text-2xl mb-5",children:c}),Object(u.jsx)("p",{className:"text-sm",children:r}),Object(u.jsxs)("div",{className:"flex align-bottom mr-5 justify-end mt-4",children:[Object(u.jsx)("span",{className:"text-2xl leading-none align-baseline",children:"$"}),Object(u.jsx)("span",{className:"item__detail__card__price font-bold text-3xl leading-none align-baseline",children:a})]})]}),Object(u.jsx)("div",{className:"flex justify-around items-center",children:Object(u.jsx)(B,{stock:j,handleAdd:function(e){O({id:t,name:c,price:a,description:r,img:n,imgDescription:o,category:d,stock:j,amount:e},e)},buttonText:"Agregar al carrito"})}),Object(u.jsx)("div",{className:"flex flex-col items-center mt-20",children:Object(u.jsxs)("div",{className:"flex justify-around my-4",children:[Object(u.jsxs)(i.b,{to:"/",className:"item__detail__keep__buying flex items-center mr-4 rounded-md",children:[Object(u.jsx)("svg",{className:"cart__arrow__back fill-current mr-2 w-4",viewBox:"0 0 448 512",children:Object(u.jsx)("path",{d:"M134.059 296H436c6.627 0 12-5.373 12-12v-56c0-6.627-5.373-12-12-12H134.059v-46.059c0-21.382-25.851-32.09-40.971-16.971L7.029 239.029c-9.373 9.373-9.373 24.569 0 33.941l86.059 86.059c15.119 15.119 40.971 4.411 40.971-16.971V296z"})}),Object(u.jsx)("span",{className:"",children:"Seguir comprando"})]}),Object(u.jsx)(i.b,{to:"/carrito",className:"item__detail__buy__cart rounded-md ".concat(h(t)?"":"disabled"),children:"Finalizar compra"})]})})]})]})})]})})},D=function(){var e=Object(s.useState)(null),t=Object(m.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)(null),r=Object(m.a)(n,2),i=r[0],o=r[1],d=Object(s.useContext)(L),j=d.loading,b=d.setLoading,x=Object(l.h)().id;return Object(s.useEffect)((function(){b(!0),g().collection("items").doc(x).get().then((function(e){e.exists?a(Object(C.a)({id:e.id},e.data())):o("Oops! Este id de producto no existe. Si quer\xe9s, contactate con nosotros.")})).finally((function(){b(!1)}))}),[x,b]),Object(u.jsx)("section",{className:"flex justify-center align-items-center",children:j?Object(u.jsx)(F,{}):Object(u.jsx)(E,Object(C.a)(Object(C.a)({},c),{},{error:i}))})},z=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(d.a,{icon:"trash",className:"trash flex justify-self-end"})})},H=function(e){var t=e.id,c=e.stock,a=Object(s.useContext)(b),n=a.itemAmountInCart,r=a.modifyItemAmountInCart,i=Object(s.useState)((function(){return n(t)})),l=Object(m.a)(i,2),o=l[0],d=l[1];return Object(u.jsx)("div",{className:"flex justify-center items-center w-1/5",children:Object(u.jsxs)("div",{className:"flex items-center",children:[Object(u.jsx)("button",{className:"counter__control",onClick:function(){if(o>1){var e=o-1;d(e),r(t,e)}},children:"-"}),Object(u.jsx)("span",{className:"mx-2",children:o}),Object(u.jsx)("button",{className:"counter__control",onClick:function(){if(o<c){var e=o+1;d(e),r(t,e)}},children:"+"})]})})},G=function(e){var t=e.id,c=e.img,s=e.imgDescription,a=e.name,n=(e.category,e.price),r=e.amount,l=e.removeItem,o=e.stock;return Object(u.jsxs)("div",{className:"flex items-center hover:bg-gray-100 -mx-8 px-6 py-5",children:[Object(u.jsxs)(i.b,{to:"/item/".concat(t),className:"flex w-2/5",children:[Object(u.jsx)("div",{className:"w-20",children:Object(u.jsx)("img",{className:"",src:c,alt:s})}),Object(u.jsx)("div",{className:"flex flex-col justify-center items-center ml-4 flex-grow",children:Object(u.jsx)("span",{className:"font-bold text-sm",children:a})})]}),Object(u.jsx)(H,{stock:o,id:t}),Object(u.jsxs)("span",{className:"text-center w-1/5 font-semibold text-sm",children:["$",n]}),Object(u.jsxs)("span",{className:"text-center w-1/5 font-semibold text-sm",children:["$",n*r," "]}),Object(u.jsx)("button",{onClick:function(){return l(t)},children:Object(u.jsx)(z,{})})]})},M=function(){var e=Object(s.useContext)(b),t=e.cart,c=e.emptyCart,a=e.removeItemFromCart,n=e.totalItemsAmount,r=e.totalSpent;return Object(u.jsx)("div",{className:"container mx-auto",children:Object(u.jsx)("div",{className:"cart__background flex justify-center",children:n()>0?Object(u.jsxs)("div",{className:"w-3/4 items-center bg-white px-10 py-10",children:[Object(u.jsxs)("div",{className:"flex justify-between border-b-2 border-pink-400 pb-8",children:[Object(u.jsx)("h1",{className:"font-semibold text-2xl",children:"Mi carrito"}),Object(u.jsxs)("h2",{className:"font-semibold text-2xl",children:[n()," producto(s)"]}),Object(u.jsxs)("h2",{className:"font-semibold text-2xl",children:["Total: $",r()]})]}),Object(u.jsxs)("div",{className:"flex mt-10 mb-5",children:[Object(u.jsx)("h3",{className:"font-semibold text-gray-600 text-xs uppercase w-2/5",children:"Detalles del producto"}),Object(u.jsx)("h3",{className:"font-semibold text-center text-gray-600 text-xs uppercase w-1/5 text-center",children:"Cantidad"}),Object(u.jsx)("h3",{className:"font-semibold text-center text-gray-600 text-xs uppercase w-1/5 text-center",children:"Precio unitario"}),Object(u.jsx)("h3",{className:"font-semibold text-center text-gray-600 text-xs uppercase w-1/5 text-center",children:"Total por producto"})]}),t.map((function(e){return Object(s.createElement)(G,Object(C.a)(Object(C.a)({},e),{},{removeItem:a,key:e.id}))})),Object(u.jsxs)("div",{className:"flex justify-end mt-10 items-center",children:[Object(u.jsxs)(i.b,{to:"/",className:"cart__back flex font-semibold text-sm items-center mr-4 rounded-lg",children:[Object(u.jsx)("svg",{className:"cart__arrow__back fill-current mr-2 w-4",viewBox:"0 0 448 512",children:Object(u.jsx)("path",{d:"M134.059 296H436c6.627 0 12-5.373 12-12v-56c0-6.627-5.373-12-12-12H134.059v-46.059c0-21.382-25.851-32.09-40.971-16.971L7.029 239.029c-9.373 9.373-9.373 24.569 0 33.941l86.059 86.059c15.119 15.119 40.971 4.411 40.971-16.971V296z"})}),Object(u.jsx)("span",{className:"cart__arrow__back__text",children:"Seguir comprando"})]}),Object(u.jsx)("button",{className:"cart__empty flex mr-4 rounded-lg",onClick:c,children:"Vaciar carrito"}),Object(u.jsx)(i.b,{to:"/checkout",className:"cart__finish rounded-lg",children:"Terminar mi compra"})]})]}):Object(u.jsx)("div",{className:"flex mt-5 mb-5 w-3/4 justify-center items-center",children:Object(u.jsxs)("div",{className:"cart__background flex my-10 items-center",children:[Object(u.jsx)("h3",{className:"font-semibold text-gray-600 uppercase",children:"No ten\xe9s items en tu carrito"}),Object(u.jsxs)(i.b,{to:"/",className:"flex font-semibold text-sm items-center rounded-lg",children:[Object(u.jsx)("svg",{className:"cart__arrow__back fill-current mr-2 w-4",viewBox:"0 0 448 512",children:Object(u.jsx)("path",{d:"M134.059 296H436c6.627 0 12-5.373 12-12v-56c0-6.627-5.373-12-12-12H134.059v-46.059c0-21.382-25.851-32.09-40.971-16.971L7.029 239.029c-9.373 9.373-9.373 24.569 0 33.941l86.059 86.059c15.119 15.119 40.971 4.411 40.971-16.971V296z"})}),Object(u.jsx)("span",{className:"cart__back",children:"Volver a comprar"})]})]})})})})},V=c(37),U=c.n(V),$=c(48),J=c(19),Z=c.n(J),W=c(29),q=function(){return Object(u.jsx)("div",{className:"mr-2",children:Object(u.jsx)(d.a,{icon:"exclamation-circle"})})},R=function(e){var t=e.formTitle,c=e.values,s=e.inputsObject,a=e.loading,n=e.setValues,r=e.errorField,i=e.errorMessage,l=e.submitAction,o=e.buttonTitle,d=function(e){n(Object(C.a)(Object(C.a)({},c),{},Object(W.a)({},e.target.name,e.target.value)))};return Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),l(c)},className:"w-full max-w-sm self-center px-8 py-10",children:[Object(u.jsx)("h2",{className:"font-semibold text-2xl pb-8",children:t}),s&&s.map((function(e,t){return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"form__input__div flex flex-col items-center py-2",children:Object(u.jsx)("input",{className:"appearance-none bg-transparent border-none w-full mr-3 py-1 px-2 leading-tight focus:outline-none",type:e.type,placeholder:e.placeholder,name:e.name,value:e.value,onChange:d})}),Object(u.jsxs)("small",{className:"error flex justify-end ".concat(r===e.name?"block":"hidden"),children:[Object(u.jsx)(q,{}),i]})]},t)})),Object(u.jsx)("button",{className:"flex-shrink-0 border-transparent border-4 text-teal-500 hover:text-teal-800 text-sm py-1 px-2 rounded mt-8",type:"submit",disabled:a,children:o})]})},K=function(){var e=Object(s.useContext)(v),t=e.currentUser,c=e.logout,a=Object(s.useContext)(b),n=a.cart,r=a.totalItemsAmount,o=a.emptyCart,d=a.totalSpent,j=Object(s.useContext)(L),x=j.loading,f=j.setLoading,O=Object(s.useState)(""),p=Object(m.a)(O,2),_=p[0],N=p[1],y=Object(s.useState)(""),w=Object(m.a)(y,2),k=w[0],I=w[1],S=/^(?:(?:00)?549?)?0?(?:11|[2368]\d)(?:(?=\d{0,2}15)\d{2})??\d{8}$/,A=Object(s.useState)({name:"",lastName:"",email:t.email,reEmail:t.email,tel:""}),P=Object(m.a)(A,2),T=P[0],B=P[1],E=[{type:"text",placeholder:"Nombre",name:"name",value:T.name},{type:"text",placeholder:"Apellido",name:"lastName",value:T.lastName},{type:"text",placeholder:"Tel\xe9fono",name:"tel",value:T.tel}];return Object(u.jsxs)("div",{className:"checkout flex justify-around items-center max-w-6xl rounded-br-lg shadow-xl mx-auto relative w-full p-8",children:[0===n.length&&Object(u.jsx)(l.a,{to:"/"}),Object(u.jsxs)("div",{id:"summary",className:"w-1/2 items-center px-8 py-10",children:[Object(u.jsx)("h1",{className:"form__input__div font-semibold text-2xl pb-8",children:"Detalle del pedido"}),Object(u.jsxs)("div",{className:"flex justify-between py-6",children:[Object(u.jsx)("span",{className:"font-semibold text-sm uppercase",children:"Cantidad total:"}),Object(u.jsxs)("span",{children:[r()," producto(s)"]})]}),Object(u.jsx)("div",{className:"item__summary",children:n.map((function(e){return Object(u.jsxs)("div",{className:"flex flex-col px-4 py-4",children:[Object(u.jsxs)("h3",{className:"flex justify-between text-xs",children:[Object(u.jsx)("span",{children:"Item:"})," ",Object(u.jsx)("span",{children:e.name})]}),Object(u.jsxs)("h3",{className:"flex justify-between text-xs",children:[Object(u.jsx)("span",{children:"Cantidad:"})," ",Object(u.jsx)("span",{children:e.amount})]})]},e.id)}))}),Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"flex font-semibold justify-between py-6 text-sm uppercase",children:[Object(u.jsx)("span",{children:"Total"}),Object(u.jsxs)("span",{children:["$",d()]})]})})]}),Object(u.jsxs)("div",{className:"flex flex-col",children:[Object(u.jsxs)("div",{className:"checkout__user__details",children:[Object(u.jsx)("p",{children:"Est\xe1s comprando como"}),Object(u.jsx)("p",{className:"checkout__user__details__email",children:t.email}),Object(u.jsxs)("small",{className:"mt-4",children:["\xbfNo es tu cuenta? ",Object(u.jsx)(i.b,{className:"underline",to:"/",onClick:c,children:"Hac\xe9 click ac\xe1."})]})]}),Object(u.jsx)(R,{formTitle:"Complet\xe1 tus datos",values:T,inputsObject:E,loading:x,setValues:B,errorField:k,errorMessage:_,submitAction:function(e){return""===e.name?(I("name"),void N("Ingres\xe1 un nombre")):""===e.lastName?(I("lastName"),void N("Ingres\xe1 un apellido")):S.test(e.tel)?(f(!0),void function(e,t,c){return new Promise(function(){var s=Object($.a)(U.a.mark((function s(a,n){var r,i,l,o,d,j,m;return U.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return r={buyer:Object(C.a)({},e),items:t.map((function(e){return{id:e.id,amount:e.amount,price:e.price,description:e.description}})),total:c,date:h.a.firestore.Timestamp.fromDate(new Date)},i=g(),l=i.collection("orders"),o=i.collection("items").where(h.a.firestore.FieldPath.documentId(),"in",t.map((function(e){return e.id}))),s.next=6,o.get();case 6:d=s.sent,j=i.batch(),m=[],d.docs.forEach((function(e){var c=t.find((function(t){return t.id===e.id}));e.data().stock>=c.amount?j.update(e.ref,{stock:e.data().stock-c.amount}):m.push(Object(C.a)(Object(C.a)({},e.data()),{},{id:e.id}))})),0===m.length?l.add(r).then((function(e){j.commit(),a(e.id)})):n(m);case 11:case"end":return s.stop()}}),s)})));return function(e,t){return s.apply(this,arguments)}}())}(e,n,d()).then((function(e){Z.a.fire({icon:"success",title:"Gracias por tu compra.",text:"N\xfamero de orden: ".concat(e),willClose:function(){o()}})})).catch((function(){Z.a.fire({icon:"error",title:"Oops! Producto sin stock"})})).finally((function(){return f(!1)}))):(I("tel"),void N("Ingres\xe1 un tel\xe9fono v\xe1lido"))},buttonTitle:"Comprar"})]}),x&&Object(u.jsx)(F,{})]})},Y=c.p+"static/media/britney-login.8d34e241.jpg",Q=function(){var e=Object(s.useContext)(v),t=e.login,c=e.loginWithGoogle,a=Object(s.useContext)(L),n=a.loading,r=a.setLoading,l=Object(s.useState)(""),o=Object(m.a)(l,2),d=o[0],j=o[1],b=Object(s.useState)(""),x=Object(m.a)(b,2),f=x[0],O=x[1],h=/^[a-zA-Z0-9\xf1\xd1.-]+@[a-zA-Z0-9\xf1\xd1.-]+\.\w{2,4}\b/,p=Object(s.useState)({email:"",password:""}),g=Object(m.a)(p,2),_=g[0],N=g[1],y=[{type:"email",placeholder:"Correo electr\xf3nico",name:"email",value:_.email},{type:"password",placeholder:"Contrase\xf1a",name:"password",value:_.password}];return Object(u.jsxs)("div",{className:"login flex items-center justify-around max-w-6xl rounded-br-lg shadow-xl mx-auto relative w-full",children:[Object(u.jsxs)("div",{className:"flex flex-col",children:[Object(u.jsx)("small",{className:"login__small",children:"Hit me, baby, one more time!"}),Object(u.jsx)(R,{formTitle:"Inici\xe1 sesi\xf3n",values:_,inputsObject:y,loading:n,setValues:N,errorField:f,errorMessage:d,submitAction:function(e){if(!h.test(e.email))return O("email"),void j("Ingres\xe1 un email v\xe1lido");r(!0),t(e.email,e.password).then((function(e){return Z.a.fire({icon:"success",title:"She's so lucky!",text:"Iniciaste sesi\xf3n correctamente."})})).catch((function(e){return Z.a.fire({icon:"error",title:"Oops, you did it again!",text:"Ocurri\xf3 un error: ".concat(e)})})).finally((function(){r(!1)}))},buttonTitle:"Iniciar sesi\xf3n"}),Object(u.jsx)("button",{className:"login__google__button",type:"submit",onClick:function(e){e.preventDefault(),c()},children:"Iniciar sesi\xf3n con Google"}),Object(u.jsxs)("small",{className:"mt-4",children:["\xbfNo ten\xe9s cuenta? ",Object(u.jsx)(i.b,{className:"underline",to:"/signup",children:"Hac\xe9 click ac\xe1."})]})]}),Object(u.jsx)("div",{className:"my-16",children:Object(u.jsx)("img",{src:Y,alt:"Imagen de Britney Spears en colores, que acompa\xf1a la pantalla de login"})})]})},X=c(25),ee=c(49),te=c(23),ce=function(){var e=Object(s.useContext)(v).signUp,t=Object(l.g)().push,c=Object(s.useContext)(L),a=c.loading,n=c.setLoading,r=Object(s.useState)(""),o=Object(m.a)(r,2),d=o[0],j=o[1],b=Object(s.useState)(""),x=Object(m.a)(b,2),f=x[0],O=x[1],h=/^[a-zA-Z0-9\xf1\xd1.-]+@[a-zA-Z0-9\xf1\xd1.-]+\.\w{2,4}\b/,p=Object(s.useState)({email:"",password:"",rePassword:""}),g=Object(m.a)(p,2),_=g[0],N=g[1],y=[{type:"email",placeholder:"Correo electr\xf3nico",name:"email",value:_.email},{type:"password",placeholder:"Introduc\xed tu contrase\xf1a",name:"password",value:_.password},{type:"password",placeholder:"Reintroduc\xed tu contrase\xf1a",name:"rePassword",value:_.rePassword}];return Object(u.jsxs)("div",{className:"login flex items-center justify-around max-w-6xl rounded-br-lg shadow-xl mx-auto relative w-full",children:[Object(u.jsxs)("div",{className:"flex flex-col",children:[Object(u.jsx)("small",{className:"login__small",children:"Hit me, baby, one more  time!"}),Object(u.jsx)(R,{formTitle:"Registrarme",values:_,inputsObject:y,loading:a,setValues:N,errorField:f,errorMessage:d,submitAction:function(c){return h.test(c.email)?c.password<5?(O("password"),void j("La contrase\xf1a debe tener m\xednimo 6 caracteres")):c.password!==c.rePassword?(O("rePassword"),void j("Las contrase\xf1as no coinciden")):(n(!0),void e(c.email,c.password,c.rePassword).then((function(){Z.a.fire({icon:"success",title:"She's so lucky!",text:"Te registraste exitosamente."}),t("/")})).catch((function(e){Z.a.fire({icon:"error",title:"Oops, you did it again!",text:"".concat(e)})})).finally((function(){n(!1)}))):(O("email"),void j("Ingres\xe1 un email v\xe1lido"))},buttonTitle:"Registrarme"}),Object(u.jsxs)("small",{className:"mt-4",children:["\xbfYa ten\xe9s cuenta? ",Object(u.jsx)(i.b,{className:"underline",to:"/",children:"Hac\xe9 click ac\xe1."})]})]}),Object(u.jsx)("div",{className:"my-16",children:Object(u.jsx)("img",{src:Y,alt:"Imagen de Britney Spears en colores, que acompa\xf1a la pantalla de login"})})]})};X.b.add(ee.a,te.f,te.d,te.c,te.a,te.e,te.g,te.b);var se=function(){var e=Object(s.useContext)(v).isAuthenticated;return Object(u.jsx)("div",{className:"App flex flex-col justify-between",children:Object(u.jsx)(P,{children:Object(u.jsx)(f,{children:Object(u.jsxs)(i.a,{children:[Object(u.jsx)(y,{}),Object(u.jsx)(l.d,{children:e?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(l.b,{exact:!0,path:"/",children:Object(u.jsx)(T,{})}),Object(u.jsx)(l.b,{exact:!0,path:"/productos/:categoryId",children:Object(u.jsx)(T,{})}),Object(u.jsx)(l.b,{exact:!0,path:"/item/:id",children:Object(u.jsx)(D,{})}),Object(u.jsx)(l.b,{exact:!0,path:"/carrito",children:Object(u.jsx)(M,{})}),Object(u.jsx)(l.b,{exact:!0,path:"/checkout",children:Object(u.jsx)(K,{})}),Object(u.jsx)(l.b,{path:"*",children:Object(u.jsx)(l.a,{to:"/"})})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(l.b,{exact:!0,path:"/",children:Object(u.jsx)(Q,{})}),Object(u.jsx)(l.b,{exact:!0,path:"/signup",children:Object(u.jsx)(ce,{})}),Object(u.jsx)(l.b,{path:"*",children:Object(u.jsx)(l.a,{to:"/"})})]})}),Object(u.jsx)(w,{})]})})})})},ae=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,79)).then((function(t){var c=t.getCLS,s=t.getFID,a=t.getFCP,n=t.getLCP,r=t.getTTFB;c(e),s(e),a(e),n(e),r(e)}))};r.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(N,{children:Object(u.jsx)(se,{})})}),document.getElementById("root")),ae()}},[[78,1,2]]]);
//# sourceMappingURL=main.90a2b3a0.chunk.js.map